@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    
                   @Html.Partial("_TopNav")
                    <hr />    
                   
                    <div class="container">
                        <div class="row py-0">
                            <div class="col-lg-6 col-12">
                    
                                <div class="input-group mb-3">
                                    <span class="input-group-text" id="inputGroup-sizing-default"><i class="bi bi-search"></i></span>
                                    <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" placeholder="Search Mission..." oninput="searchStory()" name="searchStory">
                                </div>
                    
                            </div>
                            <div class="col-lg-6 col-12 ">
                  <div class="row ">
                 
                                    
                                    <div class="col-lg-3 col-3">
                                      
                        <div class="form-select d-flex align-items-center   hide_border_select border-0"
                             type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                            Theme
                        </div>

                        <ul class="dropdown-menu scroll_dropdown " onchange="searchStory();">

                            @foreach (var obj in @ViewBag.missionTheme)
                            {
                                <li>
                                    <div class="form-check dropdown-item px-2">
                                        <input class="form-check-input mx-auto" type="checkbox" name="theme"
                                           id="@obj.MissionThemeId" />
                                        <label class="form-check-label ps-2" for="@obj.MissionThemeId">
                                            @obj.Title
                                        </label>
                                    </div>
                                </li>
                            }
                        </ul>
                     </div>
                   <div class="col-lg-3 col-3">
                                      
                          <div class="form-select d-flex align-items-center   hide_border_select border-0" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                            Skill
                           </div>

                           <ul class="dropdown-menu scroll_dropdown " onchange="searchStory();">

                            @foreach (var obj in @ViewBag.skillList)
                            {
                                <li>
                                    <div class="form-check dropdown-item px-2">
                                        <input class="form-check-input mx-auto" type="checkbox" name="skill"
                                           id="@obj.SkillId" />
                                        <label class="form-check-label ps-2" for="@obj.SkillId">
                                            @obj.SkillName
                                        </label>
                                    </div>
                                </li>
                            }
                              </ul>
                               

                                    </div>
                    
                                </div>
                            </div>
                        </div>
                    </div>
                  
                    <hr />
                    <div class="container-fluid p-0">
                        <div class="card bg-black">  
                        <img src="/Images/CI Platform Assets/Screenshot.png" style="height:200px;" class="storyImg w-100 position-relative" />
                        
                        <div class="card-img-overlay d-flex flex-column align-items-center justify-content-center text-white position-absolute">
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore...
                        <a asp-action="shareStory" asp-controller="Mission">
                        <div class="pt-2"><button type="button" class="btn btn-outline-light rounded-pill">Share your Story</button></div></a>
                       </div>
                        </div>
                    </div>
                    <div class="container" id="missionStory">
                        @Html.Partial("_storyCard")           
                                </div>                    
                                                
                      
                         <div class = "container py-5">

                        <nav aria-label="Page navigation example">
                          <ul class="pagination justify-content-center">
                            <li class="page-item">
                              <a class="page-link" href="#" aria-label="Previous">
                                <span aria-hidden="true">&laquo;</span>
                             </a>
                            </li>
                            <li class="page-item"><a class="page-link" href="#">1</a></li>
                            <li class="page-item"><a class="page-link" href="#">2</a></li>
                            <li class="page-item"><a class="page-link" href="#">3</a></li>
                            <li class="page-item"><a class="page-link" href="#">4</a></li>
                            <li class="page-item"><a class="page-link" href="#">5</a></li>
                            <li class="page-item"><a class="page-link" href="#">6</a></li>
                            <li class="page-item">
                              <a class="page-link" href="#" aria-label="Next">
                                <span aria-hidden="true">&raquo;</span>
                           
                              </a>
                            </li>
                          </ul>
                        </nav>
                        </div>
                  <script>
                  function searchStory(){
                      console.log("searchStory");
                      var searchStory = $('input[name="searchStory"]').val();
                      
                      $.ajax({
                          url : "/Mission/SearchStory",
                          method : "POST",
                          data : {
                              "searchStory" : searchStory
                          },
                          success : function(data){
                              $("#missionStory").html(data);

                          },
                          error : function(request,error){
                              console.log(error);
                          }
                      })
                  };
                   </script>
                    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
                                    integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
                                    crossorigin="anonymous"></script>
                                    
}
